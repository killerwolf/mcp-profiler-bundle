services:
    MCP\ServerBundle\Service\MCPServerService:
        arguments:
            - '@parameter_bag'
        public: true

    mcp_server:
        alias: MCP\ServerBundle\Service\MCPServerService
        public: true
        
    MCP\ServerBundle\Command\RunMCPServerCommand:
        arguments:
            - '@mcp_server'
        tags:
            - { name: 'console.command' }
            
    # Register the new ProfilerCommand
    MCP\ServerBundle\Command\ProfilerCommand:
        arguments:
            - '@profiler'
        tags:
            - { name: 'console.command' }
            
    # Register ProfilerTool as a service with the Profiler injected
    MCP\ServerBundle\Tools\ProfilerTool:
        arguments:
            - '@profiler'
            - null
        public: true